/* Theme & base */
:root {
  --bg: #fafafa;
  --ink: #1f2933;
  --muted: #6b7280;
  --accent: #316629;
  --accent-light: rgba(49, 102, 41, 0.08);
  --border: #d6e2d5;
  --chip: #f4f7f3;
}

html[data-theme="dark"] {
  --bg: #0f1411;
  --ink: #e6ede3;
  --muted: #a6b3a4;
  --accent: #6bc07b;
  --accent-light: rgba(107, 192, 123, 0.12);
  --border: #273128;
  --chip: #162019;
}

/* Custom Font: Gopher */
@font-face {
  font-family: 'Gopher';
  src: url('assets/fonts/Gopher-Regular.woff2') format('woff2'),
       url('assets/fonts/Gopher-Regular.woff') format('woff'),
       url('assets/fonts/Gopher-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Gopher';
  src: url('assets/fonts/Gopher-Bold.woff2') format('woff2'),
       url('assets/fonts/Gopher-Bold.woff') format('woff'),
       url('assets/fonts/Gopher-Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  background: var(--bg);
  font-family: 'Gopher', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--ink);
  line-height: 1.6;
  position: relative;
  overflow-x: hidden;
}
body::before {
  content: '';
  position: fixed;
  top: -50%;
  right: -20%;
  width: 80%;
  height: 120%;
  background: radial-gradient(circle, var(--accent-light) 0%, transparent 70%);
  pointer-events: none;
  z-index: -1;
}
img { max-width: 100%; display: block; }
.container { max-width: 1180px; margin: 0 auto; padding: 0 24px; }

/* Accessibility */
.skip-link { position: absolute; left: -9999px; top: -9999px; }
.skip-link:focus { left: 12px; top: 12px; z-index: 1000; background: var(--accent); color: #fff; padding: 8px 12px; border-radius: 6px; }

/* Header & hero */
.site-header { position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--border); background: var(--bg); }
.nav { display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; gap: 12px; flex-wrap: wrap; }
.brand { font-weight: 700; letter-spacing: 0.08em; color: var(--accent); }
.nav-list { list-style: none; display: flex; gap: 8px; margin: 0; padding: 0; }
.nav-list a { text-decoration: none; color: var(--ink); padding: 8px 14px; border-radius: 8px; letter-spacing: 0.06em; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; }
.nav-list a::before { content: ''; position: absolute; inset: 0; background: var(--accent-light); border-radius: 8px; opacity: 0; transition: opacity 0.3s ease; }
.nav-list a:hover { color: var(--accent); transform: translateY(-2px); }
.nav-list a:hover::before { opacity: 1; }

.hero { padding: 60px 0 48px; background: var(--bg); position: static; }
.hero-inner { display: grid; grid-template-columns: 2fr 1fr; gap: 48px; align-items: center; animation: fadeInUp 0.8s ease-out; }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
.eyebrow { text-transform: uppercase; letter-spacing: 0.24em; font-size: 11px; color: var(--accent); margin: 0 0 12px; font-weight: 600; }
.hero h1 { margin: 0 0 16px; font-size: clamp(42px, 7vw, 72px); color: var(--accent); letter-spacing: -0.02em; font-weight: 700; line-height: 1.1; }
.intro { margin: 0 0 24px; max-width: 62ch; color: var(--ink); font-size: 18px; line-height: 1.7; }
.intro.narrow { max-width: 48ch; }
.hero-actions { display: flex; gap: 14px; flex-wrap: wrap; }
.avatar { justify-self: end; width: 200px; aspect-ratio: 1; border-radius: 50%; overflow: hidden; border: 3px solid var(--accent); position: relative; transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 8px 24px rgba(49, 102, 41, 0.15); }
.avatar:hover { transform: scale(1.05) rotate(5deg); }
.avatar img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%) sepia(60%) hue-rotate(-80deg) saturate(170%) brightness(0.9); transition: filter 0.3s ease; }
.avatar:hover img { filter: grayscale(0%) sepia(0%) hue-rotate(0deg) saturate(100%) brightness(1); }

.btn { display: inline-block; padding: 12px 24px; border-radius: 10px; border: 2px solid var(--accent); background: var(--accent); color: #fff; text-decoration: none; font-weight: 700; letter-spacing: 0.04em; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden; }
.btn::before { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 100%); opacity: 0; transition: opacity 0.3s ease; }
.btn:hover::before { opacity: 1; }
.btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(49, 102, 41, 0.3); }
.btn.ghost { background: transparent; color: var(--accent); }
.btn.ghost:hover { background: var(--accent-light); box-shadow: 0 8px 20px rgba(49, 102, 41, 0.15); }

/* Layout */
.layout { display: grid; grid-template-columns: 1fr; gap: 28px; margin: 32px 0 24px; }
@media (max-width: 960px) { .hero-inner { grid-template-columns: 1fr; gap: 32px; } .avatar { justify-self: center; } }

.section { padding: 48px 0; border-bottom: 1px solid var(--border); position: relative; }
.section:last-of-type { border-bottom: none; }
.section h2 { margin: 0 0 32px; text-transform: uppercase; letter-spacing: 0.22em; font-size: 14px; color: var(--accent); font-weight: 700; position: relative; display: inline-block; }
.section h2::after { content: ''; position: absolute; bottom: -8px; left: 0; width: 60px; height: 3px; background: var(--accent); }
.section-head { display: flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap; }

/* Filters */
.filters { display: flex; gap: 8px; flex-wrap: wrap; }
.chip { border: 1px solid var(--border); background: var(--chip); color: var(--ink); border-radius: 999px; padding: 6px 12px; cursor: pointer; text-transform: uppercase; letter-spacing: 0.08em; font-size: 12px; transition: all 0.3s ease; }
.chip:hover { border-color: var(--accent); }
.chip.active { border-color: var(--accent); color: var(--accent); background: transparent; }

/* Grid cards */
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 24px; }
.card { border: 1px solid var(--border); border-radius: 16px; background: #fff; padding: 0; display: grid; gap: 0; min-height: 180px; overflow: hidden; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; }
.card:hover { transform: translateY(-8px); box-shadow: 0 16px 40px rgba(49, 102, 41, 0.12); border-color: var(--accent); }
.card .thumb { aspect-ratio: 16 / 10; background: linear-gradient(135deg, #f7faf7 0%, #eef5ec 100%); border: none; border-radius: 0; overflow: hidden; position: relative; }
.card .thumb::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to bottom, transparent 60%, rgba(49, 102, 41, 0.05)); }
.card .thumb img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
.card:hover .thumb img { transform: scale(1.08); }
.card .body { padding: 18px; }
.card .title { font-weight: 700; letter-spacing: 0.01em; font-size: 16px; }
.card .meta { color: var(--accent); font-size: 11px; letter-spacing: 0.12em; text-transform: uppercase; font-weight: 600; margin-bottom: 8px; }
.card .actions { display: flex; gap: 10px; }
.card button.link { border: 2px solid var(--accent); background: transparent; color: var(--accent); padding: 8px 14px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; }
.card button.link:hover { background: var(--accent); color: #fff; }
.card:focus-within { outline: 2px solid var(--accent); outline-offset: 3px; }

/* Timeline */
.timeline { display: grid; gap: 12px; border-left: 1px solid var(--border); padding-left: 12px; }
.timeline-item { display: grid; grid-template-columns: 90px 1fr; gap: 12px; padding: 12px 0; border-bottom: 1px solid var(--border); }
.timeline-item:last-child { border-bottom: none; }
.timeline-year { color: var(--accent); font-weight: 700; letter-spacing: 0.12em; text-transform: uppercase; }
.timeline-body { display: grid; gap: 6px; }
.timeline-body .title { font-weight: 700; letter-spacing: 0.02em; }
.timeline-body .desc { color: var(--muted); }

/* Masonry */
.masonry { columns: 1; column-gap: 12px; }
@media (min-width: 700px) { .masonry { columns: 2; } }
@media (min-width: 1024px) { .masonry { columns: 3; } }
.masonry img { width: 100%; margin: 0 0 12px; border-radius: 8px; border: 1px solid var(--border); }

/* Contact */
.contact-form { display: grid; gap: 10px; max-width: 520px; }
.contact-form input, .contact-form textarea { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border); background: #f7faf7; color: var(--ink); }
.hint { color: var(--muted); font-size: 13px; }
.socials a { margin-right: 12px; color: var(--ink); }
.socials a:hover { color: var(--accent); }

/* Modal */
.modal { position: fixed; inset: 0; display: none; z-index: 2000; }
.modal[aria-hidden="false"] { display: block; }
.modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.35); }
.modal-dialog { position: relative; margin: 40px auto; max-width: 900px; background: var(--bg); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; z-index: 2; }
.modal-close { position: absolute; top: 8px; right: 8px; border: 1px solid var(--border); background: var(--bg); color: var(--ink); border-radius: 8px; padding: 6px 10px; cursor: pointer; }
.modal-content { padding: 18px; }
.modal-content h3 { margin-top: 0; color: var(--accent); }
.meta { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin: 12px 0; }
.meta dt { font-weight: 700; letter-spacing: 0.04em; text-transform: uppercase; }
.meta dd { margin: 0; color: var(--muted); }
.modal-gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.modal-gallery img { width: 100%; border-radius: 8px; border: 1px solid var(--border); }
@media (max-width: 700px) { .modal-gallery { grid-template-columns: repeat(2, 1fr); } }

/* Footer */
.site-footer { border-top: 1px solid var(--border); padding: 16px 0; color: var(--muted); font-size: 14px; }

/* Utilities */
.skeleton { background: linear-gradient(90deg, #f6f8f5 25%, #edf1ec 50%, #f6f8f5 75%); background-size: 200% 100%; animation: loading 1.2s infinite; }
@keyframes loading { from { background-position: 200% 0; } to { background-position: -200% 0; } }
